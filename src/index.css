@theme {
  --color-bg: var(--bg);
  --color-fg: var(--fg);
  --color-accent: var(--accent);
}

@import "tailwindcss";

/* Disable color transitions for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {

  :root.theme-animate,
  :root.theme-animate * {
    transition: none !important;
  }
}

/* When .theme-animate is on <html>, smoothly transition color-like props */
:root.theme-animate,
:root.theme-animate * {
  transition-property: color, background-color, border-color, fill, stroke, outline-color, text-decoration-color;
  transition-duration: 220ms;
  transition-timing-function: ease;
}

:root {
  /*
  --c-bg-light: #ffffff;
  --c-fg-light: #0a0a0a;
  --c-accent-light: #14b8a6;

  --c-bg-dark: #09090b;
  --c-fg-dark: #e5e7eb;
  --c-accent-dark: #2dd4bf;
  */
  --c-bg-light: #fffbeb;
  --c-fg-light: #33240f;
  --c-accent-light: #ff6b45;

  --c-bg-dark: #171212;
  --c-fg-dark: #fffbeb;
  --c-accent-dark: #ffe16b;

}

:root {
  --bg: var(--c-bg-light);
  --fg: var(--c-fg-light);
  --accent: var(--c-accent-light);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: var(--c-bg-dark);
    --fg: var(--c-fg-dark);
    --accent: var(--c-accent-dark);
  }
}

:root[data-theme="light"] {
  --bg: var(--c-bg-light);
  --fg: var(--c-fg-light);
  --accent: var(--c-accent-light);
}

:root[data-theme="dark"] {
  --bg: var(--c-bg-dark);
  --fg: var(--c-fg-dark);
  --accent: var(--c-accent-dark);
}

body {
  color: var(--fg);
  background-color: var(--bg);
}

/* used in /content/posts/*.jsx, applied in /pages/Post.jsx */
.post-content h1 {
  @apply text-4xl font-bold mt-6 mb-4;
}

.post-content h2 {
  @apply text-2xl font-semibold mt-5 mb-3;
}

.post-content p {
  @apply text-base leading-relaxed mb-4;
}


/* Paper shell + margin rule */


/* Desktop: vertical margin line */

/* Desktop (unchanged) */
.paper {
  position: relative;
  padding-left: 3rem;
}

.paper::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: clamp(20px, 6vw, 48px);
  width: 3px;
  background: color-mix(in srgb, var(--accent) 50%, transparent);
  pointer-events: none;
}

/* Mobile: kill vertical */
@media (max-width: 700px) {
  .paper {
    margin: -75px -10px -75px -10px;
    padding: 0;
  }

  /* remove desktop vertical line */
  .paper::after {
    left: 10px;
  }
}


/* Lined background + rhythm */
.lined {
  /* It seems these magin numbers are meant for this font only. */
  --rule: 1.625rem;
  --ink-offset: calc(12px - 0.365em);
  --line: color-mix(in srgb, currentColor 10%, transparent);

  line-height: var(--rule);
  background:
    repeating-linear-gradient(to bottom,
      var(--line) 0 1px,
      transparent 1px var(--rule));
  background-origin: content-box;
}

.lined p,
.lined em,
.lined strong,
.lined ul,
.lined ol,
.lined h3,
.lined span {
  transform: translateY(var(--ink-offset));
}

/* Paragraphs */
.lined p {
  margin: 0 0 var(--rule);
}

.lined p:last-child {
  margin-bottom: 0;
}

/* Inline emphasis */
/*
.lined em,
.lined strong {
  font-style: italic;
  font-weight: 600;
}
*/

/* Headings */
.lined h3 {
  font-size: 1.4rem;
  font-weight: 500;
}

.lined a {
  font-weight: 500;
  text-decoration: underline;
}

.lined a:hover {
  color: var(--accent);
}

/* Lists */
.lined ul {
  list-style-type: disc;
}

.lined ul,
.lined ol {
  margin: 0 0 var(--rule);
  padding-left: calc(var(--rule));
}

.lined li {
  font-size: 0.9rem;
}

/* .lined li::marker { color: var(--accent); } */

/* Images */
.lined img {
  border: 2px solid color-mix(in srgb, currentColor 10%, transparent);
}

/* Image size macros */
img.rows-2 { height: calc(var(--rule) * 2); }
img.rows-4 { height: calc(var(--rule) * 4); }
img.rows-6 { height: calc(var(--rule) * 6); }
img.rows-8 { height: calc(var(--rule) * 8); }
img.rows-10 { height: calc(var(--rule) * 10); }
img.rows-12 { height: calc(var(--rule) * 12); }
img.rows-14 { height: calc(var(--rule) * 14); }
img.rows-16 { height: calc(var(--rule) * 16); }
img.rows-18 { height: calc(var(--rule) * 18); }
img.rows-20 { height: calc(var(--rule) * 20); }
img.rows-22 { height: calc(var(--rule) * 22); }
img.rows-24 { height: calc(var(--rule) * 24); }
